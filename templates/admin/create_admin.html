<!DOCTYPE html>
<html>
<head>
    <title>Create Admin</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>

<div>
    <h2>Create New Admin</h2>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <p class="flash">{{ messages[0] }}</p>
    {% endif %}
    {% endwith %}

    <form id="createAdminForm" method="POST" autocomplete="off">
        <input type="text" name="first_name" placeholder="First Name" required autocomplete="new=first-name" >
        <input type="text" name="last_name" placeholder="Last Name" required autocomplete="new-last-name">
        <input type="text" name="nickname" placeholder="Nickname (Optional)" autocomplete="new-nickname">
        <input type="email" name="email" placeholder="Email" required autocomplete="new-email">
        <input type="password" name="password" placeholder="Password" required minlength="6" autocomplete="new-password">
        <input type="password" name="confirm_password" placeholder="Confirm Password" required minlength="6" autocomplete="new-password">
        <button type="submit">Create Admin</button>
    </form>

</div>

<script>
document.getElementById('createAdminForm').addEventListener('submit', function(e){
    let pw = this.password.value.trim();
    let cpw = this.confirm_password.value.trim();
    if(pw !== cpw){
        alert("Passwords do not match");
        e.preventDefault();
        return false;
    }
    if(pw.length < 6){
        alert("Password must be at least 6 characters");
        e.preventDefault();
        return false;
    }
});
</script>

</body>
</html>
